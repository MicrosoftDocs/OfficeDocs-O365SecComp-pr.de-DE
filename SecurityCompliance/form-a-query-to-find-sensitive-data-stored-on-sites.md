---
title: Erstellen einer Abfrage zum Auffinden auf Websites gespeicherter vertraulicher Daten
ms.author: stephow
author: stephow-MSFT
manager: laurawi
ms.date: 6/29/2018
ms.audience: Admin
ms.topic: article
ms.service: O365-seccomp
localization_priority: Normal
search.appverid:
- MOE150
- MET150
ms.assetid: 3019fbc5-7f15-4972-8d0e-dc182dc7f836
description: Mit Data Loss Prevention (DLP) in SharePoint Online können Sie Dokumente ermitteln, die vertrauliche Daten in Ihrem Mandanten enthalten. Nachdem Sie die Dokumente ermittelt haben, können Sie mit den Dokument Besitzern zusammenarbeiten, um die Daten zu schützen. In diesem Thema können Sie eine Abfrage für die Suche nach vertraulichen Daten unterstützen.
ms.openlocfilehash: 3dc1081d4627f1a26c50eed84f733c31a3f6c194
ms.sourcegitcommit: f57b4001ef1327f0ea622e716a4d7d78f1769b49
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/23/2019
ms.locfileid: "30217235"
---
# <a name="form-a-query-to-find-sensitive-data-stored-on-sites"></a><span data-ttu-id="cd74f-105">Erstellen einer Abfrage zum Auffinden auf Websites gespeicherter vertraulicher Daten</span><span class="sxs-lookup"><span data-stu-id="cd74f-105">Form a query to find sensitive data stored on sites</span></span>

<span data-ttu-id="cd74f-p102">Benutzer speichern häufig vertrauliche Daten wie Kreditkartennummern, Sozialversicherungsnummern oder persönliche Informationen auf ihren Websites und können im Laufe der Zeit eine Organisation mit erheblichen Datenverlustrisiken aussetzen. Dokumente, die auf Websites gespeichert sind, einschließlich OneDrive für Unternehmens-Websites, konnten für Personen außerhalb der Organisation freigegeben werden, die keinen Zugriff auf die Informationen haben sollten. Mit Data Loss Prevention (DLP) in SharePoint Online können Sie Dokumente ermitteln, die vertrauliche Daten in Ihrem Mandanten enthalten. Nachdem Sie die Dokumente ermittelt haben, können Sie mit den Dokument Besitzern zusammenarbeiten, um die Daten zu schützen. In diesem Thema können Sie eine Abfrage für die Suche nach vertraulichen Daten unterstützen.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p102">Users often store sensitive data, such as credit card numbers, social security numbers, or personal, on their sites, and over time this can expose an organization to significant risk of data loss. Documents stored on sites—including OneDrive for Business sites—could be shared with people outside the organization who shouldn't have access to the information. With data loss prevention (DLP) in SharePoint Online, you can discover documents that contain sensitive data throughout your tenant. After discovering the documents, you can work with the document owners to protect the data. This topic can help you form a query to search for sensitive data.</span></span>
  
> [!NOTE]
> <span data-ttu-id="cd74f-111">Die elektronische Erkennung oder eDiscovery und DLP sind Premium-Features, die [SharePoint Online-Plan 2](https://go.microsoft.com/fwlink/?LinkId=510080)erfordern.</span><span class="sxs-lookup"><span data-stu-id="cd74f-111">Electronic discovery, or eDiscovery, and DLP are premium features that require [SharePoint Online Plan 2](https://go.microsoft.com/fwlink/?LinkId=510080).</span></span> 
  
## <a name="forming-a-basic-dlp-query"></a><span data-ttu-id="cd74f-112">Erstellen einer einfachen DLP-Abfrage</span><span class="sxs-lookup"><span data-stu-id="cd74f-112">Forming a basic DLP query</span></span>

<span data-ttu-id="cd74f-p103">Es gibt drei Teile, aus denen eine grundlegende DLP-Abfrage besteht: Sensitivetype, count Range und Confidence Range. Wie in der folgenden Grafik dargestellt, ist **sensitivetype:\<"\>Type"** erforderlich, und sowohl\*\*|\<count Range\> \*\* **|\<als auch Konfidenz\> Range** sind optional.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p103">There are three parts that make up a basic DLP query: SensitiveType, count range, and confidence range. As illustrated in the following graphic, **SensitiveType:"\<type\>"** is required, and both**|\<count range\>** and**|\<confidence range\>** are optional.</span></span> 
  
![Beispielabfrage, aufgeteilt in "Erforderlich" und "Optional"](media/DLP-query-example-text.png)
  
### <a name="sensitive-type---required"></a><span data-ttu-id="cd74f-116">Typ vertraulicher Informationen - erforderlich</span><span class="sxs-lookup"><span data-stu-id="cd74f-116">Sensitive type - required</span></span>

<span data-ttu-id="cd74f-p104">Was ist also jeder Anteil? SharePoint DLP-Abfragen beginnen in der `SensitiveType:"` Regel mit der Eigenschaft und dem Namen eines Informationstyps aus dem Inventar der vertraulichen `"` [Informationstypen](https://go.microsoft.com/fwlink/?LinkID=509999)und enden mit a. Sie können auch den Namen eines [benutzerdefinierten Typs für vertrauliche Informationen](create-a-custom-sensitive-information-type.md) verwenden, den Sie für Ihre Organisation erstellt haben. Sie suchen beispielsweise nach Dokumenten, die Kreditkartennummern enthalten. In einer solchen Instanz würden Sie das folgende Format verwenden: `SensitiveType:"Credit Card Number"`. Da Sie nicht count Range oder Confidence Range eingeschlossen haben, gibt die Abfrage jedes Dokument zurück, in dem eine Kreditkartennummer erkannt wird. Dies ist die einfachste Abfrage, die Sie ausführen können, und es werden die meisten Ergebnisse zurückgegeben. Beachten Sie, dass die Rechtschreibung und der Abstand des vertraulichen Typs wichtig sind.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p104">So what is each part? SharePoint DLP queries typically begin with the property  `SensitiveType:"` and an information type name from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999), and end with a  `"`. You can also use the name of a [custom sensitive information type](create-a-custom-sensitive-information-type.md) that you created for your organization. For example, you might be looking for documents that contain credit card numbers. In such an instance, you'd use the following format:  `SensitiveType:"Credit Card Number"`. Because you didn't include count range or confidence range, the query returns every document in which a credit card number is detected. This is the simplest query that you can run, and it returns the most results. Keep in mind that the spelling and spacing of the sensitive type matters.</span></span> 
  
### <a name="ranges---optional"></a><span data-ttu-id="cd74f-125">Bereiche - optional</span><span class="sxs-lookup"><span data-stu-id="cd74f-125">Ranges - optional</span></span>

<span data-ttu-id="cd74f-p105">Beide der nächsten beiden Teile sind Bereiche, lassen Sie uns also schnell untersuchen, wie ein Bereich aussieht. In SharePoint DLP-Abfragen wird ein grundlegender Wert durch zwei durch zwei Punkte getrennte Zahlen dargestellt, die wie `[number]..[number]`folgt aussehen:. Wenn `10..20` beispielsweise verwendet wird, erfasst dieser Zeitraum Zahlen von 10 bis 20. Es gibt viele verschiedene Kombinations Bereiche, die in diesem Thema behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p105">Both of the next two parts are ranges, so let's quickly examine what a range looks like. In SharePoint DLP queries, a basic range is represented by two numbers separated by two periods, which looks like this:  `[number]..[number]`. For instance, if  `10..20` is used, that range would capture numbers from 10 through 20. There are many different range combinations and several are covered in this topic.</span></span> 
  
<span data-ttu-id="cd74f-p106">Fügen wir der Abfrage einen count-Range hinzu. Sie können count Range verwenden, um die Anzahl der Vorkommen von vertraulichen Informationen zu definieren, die ein Dokument enthalten muss, bevor es in den Abfrageergebnissen enthalten ist. Wenn Sie beispielsweise möchten, dass Ihre Abfrage nur Dokumente zurückgibt, die genau fünf Kreditkartennummern enthalten, verwenden `SensitiveType:"Credit Card Number|5"`Sie Folgendes:. Count Range kann auch bei der Identifizierung von Dokumenten helfen, die einen hohen Risikograd aufweisen. Beispielsweise kann Ihre Organisation Dokumente mit mindestens fünf Kreditkartennummern als hohes Risiko betrachten. Zum Suchen nach Dokumenten, die dieses Kriterium erfüllen, verwenden Sie diese `SensitiveType:"Credit Card Number|5.."`Abfrage:. Alternativ können Sie Dokumente mit mindestens fünf Kreditkartennummern mithilfe dieser Abfrage suchen: `SensitiveType:"Credit Card Number|..5"`.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p106">Let's add a count range to the query. You can use count range to define the number of occurrences of sensitive information a document needs to contain before it's included in the query results. For example, if you want your query to return only documents that contain exactly five credit card numbers, use this:  `SensitiveType:"Credit Card Number|5"`. Count range can also help you identify documents that pose high degrees of risk. For example, your organization might consider documents with five or more credit card numbers a high risk. To find documents fitting this criterion, you would use this query:  `SensitiveType:"Credit Card Number|5.."`. Alternatively, you can find documents with five or fewer credit card numbers by using this query:  `SensitiveType:"Credit Card Number|..5"`.</span></span> 
  
#### <a name="confidence-range"></a><span data-ttu-id="cd74f-137">Konfidenzbereich</span><span class="sxs-lookup"><span data-stu-id="cd74f-137">Confidence range</span></span>

<span data-ttu-id="cd74f-p107">Schließlich ist der Vertrauensbereich die Vertrauensebene, bei der der erkannte vertrauliche Typ tatsächlich eine Übereinstimmung darstellt. Die Werte für den Konfidenzbereich funktionieren ähnlich wie bei count Range. Sie können eine Abfrage ohne einen count-Range bilden. Wenn Sie beispielsweise nach Dokumenten mit einer beliebigen Anzahl von Kreditkartennummern suchen möchten, solange der Konfidenz Wert 85 Prozent oder höher ist, verwenden Sie diese Abfrage: `SensitiveType:"Credit Card Number|*|85.."`.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p107">Finally, confidence range is the level of confidence that the detected sensitive type is actually a match. The values for confidence range work similarly to count range. You can form a query without including a count range. For example, to search for documents with any number of credit card numbers—as long as the confidence range is 85 percent or higher—you would use this query:  `SensitiveType:"Credit Card Number|*|85.."`.</span></span> 
  
> [!IMPORTANT]
> <span data-ttu-id="cd74f-p108">Das Sternchen ( `*`) ist ein Platzhalterzeichen, das bedeutet, dass ein beliebiger Wert funktioniert. Sie können das Platzhalterzeichen ( `*`) entweder im count-oder im Konfidenzbereich verwenden, jedoch nicht in einem vertraulichen Typ.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p108">The asterisk ( `*`) is a wildcard character that means any value works. You can use the wildcard character ( `*`) either in the count range or in the confidence range, but not in a sensitive type.</span></span> 
  
### <a name="additional-query-properties-and-search-operators-available-in-the-ediscovery-center"></a><span data-ttu-id="cd74f-144">Im eDiscovery Center stehen weitere Abfrageeigenschaften und Suchoperatoren zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="cd74f-144">Additional query properties and search operators available in the eDiscovery Center</span></span>

<span data-ttu-id="cd74f-p109">DLP in SharePoint bietet außerdem eine Einführung in die LastSensitiveContentScan-Eigenschaft, die Sie bei der Suche nach Dateien unterstützenkann, die innerhalb eines bestimmten Zeitrahmens gescannt werden. Abfragebeispiele mit der `LastSensitiveContentScan` -Eigenschaft finden Sie in den Beispielen für [komplexe Abfragen](form-a-query-to-find-sensitive-data-stored-on-sites.md#BKMK_ExamplesOfComplexQueries) im nächsten Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p109">DLP in SharePoint also introduces the LastSensitiveContentScan property, which can help you search for files scanned within a specific timeframe. For query examples with the  `LastSensitiveContentScan` property, see the [Examples of complex queries](form-a-query-to-find-sensitive-data-stored-on-sites.md#BKMK_ExamplesOfComplexQueries) in the next section.</span></span> 
  
<span data-ttu-id="cd74f-p110">Sie können nicht nur DLP-spezifische Eigenschaften verwenden, um eine Abfrage zu erstellen, sondern auch standardmäßige SharePoint `Author` eDiscovery `FileExtension`-Sucheigenschaften wie oder. Sie können Operatoren verwenden, um komplexe Abfragen zu erstellen. Eine Liste der verfügbaren Eigenschaften und Operatoren finden Sie unter [using Search Properties and Operators with eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093) Blog Post.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p110">You can use not only DLP-specific properties to create a query, but also standard SharePoint eDiscovery search properties such as  `Author` or  `FileExtension`. You can use operators to build complex queries. For the list of available properties and operators, see the [Using Search Properties and Operators with eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093) blog post.</span></span> 
  
## <a name="examples-of-complex-queries"></a><span data-ttu-id="cd74f-150">Beispiele</span><span class="sxs-lookup"><span data-stu-id="cd74f-150">Examples of complex queries</span></span>

<span data-ttu-id="cd74f-151">In den folgenden Beispielen werden verschiedene vertrauliche Typen, Eigenschaften und Operatoren verwendet, um zu veranschaulichen, wie Sie Ihre Abfragen verfeinern können, um genau zu finden, wonach Sie suchen.</span><span class="sxs-lookup"><span data-stu-id="cd74f-151">The following examples use different sensitive types, properties, and operators to illustrate how you can refine your queries to find exactly what you're looking for.</span></span>
  
|<span data-ttu-id="cd74f-152">**Abfrage**</span><span class="sxs-lookup"><span data-stu-id="cd74f-152">**Query**</span></span>|<span data-ttu-id="cd74f-153">**Erläuterung**</span><span class="sxs-lookup"><span data-stu-id="cd74f-153">**Explanation**</span></span>|
|:-----|:-----|
| `SensitiveType:"International Banking Account Number (IBAN)"` <br/> |<span data-ttu-id="cd74f-p111">Der Name mag seltsam erscheinen, weil er so lang ist, aber er ist der richtige Name für diesen vertraulichen Typ. Stellen Sie sicher, dass Sie genaue Namen aus den [Typen der vertraulichen Informationen](https://go.microsoft.com/fwlink/?LinkID=509999)verwenden. Sie können auch den Namen eines [benutzerdefinierten Typs für vertrauliche Informationen](create-a-custom-sensitive-information-type.md) verwenden, den Sie für Ihre Organisation erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p111">The name might seem strange because it's so long, but it's the correct name for that sensitive type. Make sure to use exact names from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999). You can also use the name of a [custom sensitive information type](create-a-custom-sensitive-information-type.md) that you created for your organization.  </span></span><br/> |
| `SensitiveType:"Credit Card Number|1..4294967295|1..100"` <br/> |<span data-ttu-id="cd74f-p112">Dadurch werden Dokumente mit mindestens einer Übereinstimmung mit dem vertraulichen Typ "Kreditkartennummer" zurückgegeben. Die Werte für die einzelnen Bereiche sind die jeweiligen minimal-und Maximalwerte. Eine einfachere Möglichkeit zum Schreiben dieser Abfrage ist `SensitiveType:"Credit Card Number"`, aber wo ist der Spaß daran?</span><span class="sxs-lookup"><span data-stu-id="cd74f-p112">This returns documents with at least one match to the sensitive type "Credit Card Number." The values for each range are the respective minimum and maximum values. A simpler way to write this query is  `SensitiveType:"Credit Card Number"`, but where's the fun in that?  </span></span><br/> |
| `SensitiveType:"Credit Card Number| 5..25" AND LastSensitiveContentScan:"8/11/2018..8/13/2018"` <br/> |<span data-ttu-id="cd74f-160">Dadurch werden Dokumente mit 5-25 Kreditkartennummern zurückgegeben, die vom 11. August 2018 bis 13. August 2018 gescannt wurden.</span><span class="sxs-lookup"><span data-stu-id="cd74f-160">This returns documents with 5-25 credit card numbers that were scanned from August 11, 2018 through August 13, 2018.</span></span>  <br/> |
| `SensitiveType:"Credit Card Number| 5..25" AND LastSensitiveContentScan:"8/11/2018..8/13/2018" NOT FileExtension:XLSX` <br/> |<span data-ttu-id="cd74f-p113">Dadurch werden Dokumente mit 5-25 Kreditkartennummern zurückgegeben, die vom 11. August 2018 bis 13. August 2018 gescannt wurden. Dateien mit einer XLSX-Erweiterung sind nicht in den Abfrageergebnissen enthalten.  `FileExtension` ist eine von vielen Eigenschaften, die Sie in eine Abfrage aufnehmen können. Weitere Informationen finden Sie unter [Verwenden von Sucheigenschaften und Operatoren mit eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093).</span><span class="sxs-lookup"><span data-stu-id="cd74f-p113">This returns documents with 5-25 credit card numbers that were scanned from August 11, 2018 through August 13, 2018. Files with an XLSX extension aren't included in the query results.  `FileExtension` is one of many properties that you can include in a query. For more information, see [Using Search Properties and Operators with eDiscovery](https://go.microsoft.com/fwlink/?LinkId=510093).  </span></span><br/> |
| `SensitiveType:"Credit Card Number" OR SensitiveType:"U.S. Social Security Number (SSN)"` <br/> |<span data-ttu-id="cd74f-165">Diese Abfrage gibt Dokumente zurück, die entweder eine Kreditkartennummer oder US-Sozialversicherungsnummer enthalten.</span><span class="sxs-lookup"><span data-stu-id="cd74f-165">This returns documents that contain either a credit card number or a social security number.</span></span>  <br/> |
   
## <a name="examples-of-queries-to-avoid"></a><span data-ttu-id="cd74f-166">Beispiele</span><span class="sxs-lookup"><span data-stu-id="cd74f-166">Examples of queries to avoid</span></span>

<span data-ttu-id="cd74f-p114">Nicht alle Abfragen werden gleich erstellt. In der folgenden Tabelle finden Sie Beispiele für Abfragen, die nicht mit DLP in SharePoint funktionieren und warum.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p114">Not all queries are created equal. The following table gives examples of queries that don't work with DLP in SharePoint and describes why.</span></span>
  
|<span data-ttu-id="cd74f-169">**Nicht unterstützte Abfrage**</span><span class="sxs-lookup"><span data-stu-id="cd74f-169">**Unsupported query**</span></span>|<span data-ttu-id="cd74f-170">**Reason**</span><span class="sxs-lookup"><span data-stu-id="cd74f-170">**Reason**</span></span>|
|:-----|:-----|
| `SensitiveType:"Credit Card Number|.."` <br/> |<span data-ttu-id="cd74f-171">Sie müssen mindestens eine Zahl hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="cd74f-171">You must add at least one number.</span></span>  <br/> |
| `SensitiveType:"NotARule"` <br/> |<span data-ttu-id="cd74f-p115">"NotARule" ist kein gültiger vertraulicher Typname. Nur Namen in den [Typen vertraulicher Informationen](https://go.microsoft.com/fwlink/?LinkID=509999) werden in DLP-Abfragen verwendet.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p115">"NotARule" isn't a valid sensitive type name. Only names in the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999) work in DLP queries.  </span></span><br/> |
| `SensitiveType:"Credit Card Number|0"` <br/> |<span data-ttu-id="cd74f-174">NULL ist weder als Minimalwert noch als Maximalwert in einem Range-Objekt gültig.</span><span class="sxs-lookup"><span data-stu-id="cd74f-174">Zero isn't valid as either the minimum value or the maximum value in a range.</span></span>  <br/> |
| `SensitiveType:"Credit Card Number"` <br/> |<span data-ttu-id="cd74f-p116">Es ist möglicherweise schwierig zu erkennen, aber es gibt zusätzlichen Leerraum zwischen "Guthaben" und "Karte", der die Abfrage ungültig macht. Verwenden Sie genaue vertrauliche Typnamen aus dem [Inventar der vertraulichen Informationstypen](https://go.microsoft.com/fwlink/?LinkID=509999).</span><span class="sxs-lookup"><span data-stu-id="cd74f-p116">It's might be difficult to see, but there's extra white space between "Credit" and "Card" that makes the query invalid. Use exact sensitive type names from the [sensitive information types inventory](https://go.microsoft.com/fwlink/?LinkID=509999).  </span></span><br/> |
| `SensitiveType:"Credit Card Number|1. .3"` <br/> |<span data-ttu-id="cd74f-177">Die zwei-Perioden-Teil sollte nicht durch ein Leerzeichengetrennt werden.</span><span class="sxs-lookup"><span data-stu-id="cd74f-177">The two-period portion shouldn't be separated by a space.</span></span>  <br/> |
| `SensitiveType:"Credit Card Number| |1..|80.."` <br/> |<span data-ttu-id="cd74f-178">Es gibt zu viele Pipe-Trennzeichen (</span><span class="sxs-lookup"><span data-stu-id="cd74f-178">There are too many pipe delimiters (</span></span>|<span data-ttu-id="cd74f-p117">). Folgen Sie stattdessen diesem Format:`SensitiveType: "Credit Card Number|1..|80.."`</span><span class="sxs-lookup"><span data-stu-id="cd74f-p117">). Follow this format instead: `SensitiveType: "Credit Card Number|1..|80.."`</span></span> <br/> |
| `SensitiveType:"Credit Card Number|1..|80..101"` <br/> |<span data-ttu-id="cd74f-p118">Da Zuverlässigkeitswerte einen Prozentsatz darstellen, dürfen Sie 100 nicht überschreiten. Wählen Sie stattdessen eine Zahl zwischen 1 und 100 aus.</span><span class="sxs-lookup"><span data-stu-id="cd74f-p118">Because confidence values represent a percentage, they can't exceed 100. Choose a number from 1 through 100 instead.</span></span>  <br/> |
   
## <a name="for-more-information"></a><span data-ttu-id="cd74f-183">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="cd74f-183">For more information</span></span>

[<span data-ttu-id="cd74f-184">Wonach die Typen von vertraulichen Informationen suchen</span><span class="sxs-lookup"><span data-stu-id="cd74f-184">What the sensitive information types look for</span></span>](what-the-sensitive-information-types-look-for.md)
  
[<span data-ttu-id="cd74f-185">Ausführen einer Inhaltssuche im Office 365 Security &amp; Compliance Center</span><span class="sxs-lookup"><span data-stu-id="cd74f-185">Run a Content Search in the Office 365 Security &amp; Compliance Center</span></span>](run-a-content-search-in-the-security-and-compliance-center.md)
  
[<span data-ttu-id="cd74f-186">Stichwortabfragen und Suchbedingungen für die Inhaltssuche</span><span class="sxs-lookup"><span data-stu-id="cd74f-186">Keyword queries and search conditions for Content Search</span></span>](keyword-queries-and-search-conditions.md)
  

