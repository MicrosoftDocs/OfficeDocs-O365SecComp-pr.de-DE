---
title: Office 365-Isolierung und Zugriffssteuerung in Office 365
ms.author: robmazz
author: robmazz
manager: laurawi
ms.date: 8/21/2018
audience: ITPro
ms.topic: article
ms.service: O365-seccomp
localization_priority: None
search.appverid:
- MET150
ms.collection:
- Strat_O365_IP
- M365-security-compliance
description: 'Zusammenfassung: eine Erläuterung der Isolierung und der Zugriffssteuerung in den verschiedenen Anwendungen von Office 365.'
ms.openlocfilehash: 734c92a6f3185a25faf9aade1ba235444ed762da
ms.sourcegitcommit: f57b4001ef1327f0ea622e716a4d7d78f1769b49
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/23/2019
ms.locfileid: "30216855"
---
# <a name="isolation-and-access-control-in-office-365"></a><span data-ttu-id="a11e8-103">Isolierung und Zugriffskontrolle in Office 365</span><span class="sxs-lookup"><span data-stu-id="a11e8-103">Isolation and Access Control in Office 365</span></span>

<span data-ttu-id="a11e8-p101">Azure Active Directory und Office 365 verwenden ein hoch komplexes Datenmodell, das Dutzende von Diensten, Hunderte von Entitäten, Tausende von Beziehungen und Zehntausende von Attributen umfasst (Entitäten, Beziehungen und Attribute sind oft anwendungsspezifisch). Auf hoher Ebene sind Azure Active Directory und die Dienst Verzeichnisse die Container von Mandanten und Empfängern, und Sie werden mit statusbasierten Replikationsprotokollen synchronisiert. Zusätzlich zu den Verzeichnisinformationen in Azure Active Directory verfügt jeder Dienst über eine eigene Verzeichnisdienstinfrastruktur (beispielsweise Exchange Online-Verzeichnisdienste, SharePoint Online-Verzeichnisdienste usw.).</span><span class="sxs-lookup"><span data-stu-id="a11e8-p101">Azure Active Directory and Office 365 use a highly complex data model that includes tens of services, hundreds of entities, thousands of relationships, and tens of thousands of attributes (entities, relationships and attributes are often application-specific). At a high level, Azure Active Directory and the service directories are the containers of tenants and recipients, and they are kept in sync using state-based replication protocols. In addition to the directory information held within Azure Active Directory, each of the services also have their own directory services infrastructure (e.g., Exchange Online Directory Services, SharePoint Online Directory Services, etc.).</span></span> 
 
![Office 365-Mandantendaten Synchronisierung](media/office-365-isolation-tenant-data-sync.png)

<span data-ttu-id="a11e8-p102">Innerhalb dieses Modells gibt es keine einzige Quelle für Verzeichnisdaten. Jeder einzelne Datensatz ist im Besitz eines bestimmten Systems, aber kein einzelnes System enthält alle Daten. Office 365-Dienste kooperieren mit Azure Active Directory, um das Datenmodell zu realisieren. Azure Active Directory ist das "System der Wahrheit" für freigegebene Daten, in der Regel kleine und statische Daten, die häufig von jedem Dienst verwendet werden. Das in Office 365 und Azure Active Directory verwendete Verbundmodell stellt die freigegebene Ansicht der Daten bereit.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p102">Within this model, there is no single source of directory data. Every individual piece of data is owned by a specific system, but no single system holds all the data. Office 365 services cooperate with Azure Active Directory to realize the data model. Azure Active Directory is the "system of truth" for shared data, which is typically small and static data used often by every service. The federated model used within Office 365 and Azure Active Directory provides the shared view of the data.</span></span>

<span data-ttu-id="a11e8-p103">Office 365 verwendet sowohl physischen Speicher als auch Azure-cloudspeicher. Exchange Online (einschließlich Exchange Online Protection) und Skype for Business verwenden ihren eigenen Speicher für Kundendaten. SharePoint Online nutzt sowohl den SQL Server-Speicher als auch den Azure-Speicher, was die Notwendigkeit einer zusätzlichen Isolierung von Kundendaten auf Speicherebene erfordert.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p103">Office 365 uses both physical storage and Azure cloud storage. Exchange Online (including Exchange Online Protection) and Skype for Business use their own storage for customer data. SharePoint Online leverages both its SQL Server storage and Azure storage, which necessitates the need for additional isolation of customer data at the storage level.</span></span>

## <a name="exchange-online"></a><span data-ttu-id="a11e8-116">Exchange Online</span><span class="sxs-lookup"><span data-stu-id="a11e8-116">Exchange Online</span></span>
<span data-ttu-id="a11e8-p104">Exchange Online speichert Kundendaten in Postfächern, die in ESE-Datenbanken (Extensible Storage Engine) als Postfachdatenbanken gehostet werden. Hierzu gehören Benutzerpostfächer, verknüpfte Postfächer, freigegebene Postfächer und Postfächer für Öffentliche Ordner. Benutzerpostfächer können auch gespeicherte Skype for Business-Inhalte wie Unterhaltungs Verläufe aufnehmen. Zu den Inhalten des Benutzerpostfachs Gehören e-Mails und e-Mail-Anhänge, Kalender-und Frei/Gebucht-Informationen, Kontakte, Aufgaben, Notizen, Gruppen und Inferenz Daten.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p104">Exchange Online stores customer data within mailboxes that are hosted within Extensible Storage Engine (ESE) databases called mailbox databases. This includes user mailboxes, linked mailboxes, shared mailboxes and public folder mailboxes. User mailboxes may also include saved Skype for Business content, such as conversation histories. User mailbox content includes emails and email attachments, calendaring and free/busy information, contacts, tasks, notes, Groups, and inference data.</span></span>

<span data-ttu-id="a11e8-p105">Jede Postfachdatenbank in Exchange Online enthält Postfächer von mehreren Mandanten. Alle Postfächer werden durch Autorisierungscode gesichert, einschließlich innerhalb eines Mandanten. Wie bei einer lokalen Bereitstellung von Exchange hat nur der zugewiesene Benutzer standardmäßig Zugriff auf ein Postfach. Die Zugriffssteuerungsliste (Access Control List, ACL), die ein Postfach sichert, enthält eine Identität, die von Azure Active Directory auf Mandantenebene authentifiziert wird. Die Postfächer für einen bestimmten Mandanten sind auf Identitäten beschränkt, die für den Authentifizierungsanbieter des Mandanten authentifiziert wurden und nur Benutzer von diesem Mandanten einbeziehen. Inhalte, die zu Tenanta gehören, können von Benutzern in TenantB nicht abgerufen werden, es sei denn, Sie werden von der Mandanta ausdrücklich genehmigt.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p105">Each mailbox database within Exchange Online contains mailboxes from multiple tenants. All mailboxes are secured by authorization code, including within a tenancy. As with an on-premises deployment of Exchange, by default only the assigned user has access to a mailbox. The access control list (ACL) that secures a mailbox contains an identity that is authenticated by Azure Active Directory at the tenant level. The mailboxes for a given tenant are limited to identities authenticated against that tenant's authentication provider, which include only users from that tenant. Content belonging to TenantA cannot in any way be obtained by users in TenantB, unless explicitly approved by TenantA.</span></span>

## <a name="skype-for-business"></a><span data-ttu-id="a11e8-127">Skype for Business</span><span class="sxs-lookup"><span data-stu-id="a11e8-127">Skype for Business</span></span>
<span data-ttu-id="a11e8-128">Skype for Business speichert Daten an verschiedenen Stellen:</span><span class="sxs-lookup"><span data-stu-id="a11e8-128">Skype for Business stores data in a variety of places:</span></span>
- <span data-ttu-id="a11e8-p106">Benutzer-und Kontoinformationen, die Verbindungsendpunkte, Mandanten-IDs, Wählpläne, Roamingeinstellungen, Anwesenheitsstatus, Kontaktlisten usw. enthalten, werden in den Active Directory-Servern von Skype for Business sowie in verschiedenen Skype for Business-Datenbanken gespeichert. Server. Kontaktlisten werden im Exchange Online-Postfach des Benutzers gespeichert, wenn der Benutzer für beide Produkte oder auf Skype for Business-Servern aktiviert ist, wenn der Benutzer dies nicht tut. Skype for Business-Datenbankserver werden nicht pro Mandant partitioniert, aber die Mandantenweite Isolierung von Daten wird über RBAC erzwungen.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p106">User and account information, which includes connection endpoints, tenant IDs, dial plans, roaming settings, presence state, contact lists, etc., is stored in the Skype for Business Active Directory servers, as well as in various Skype for Business database servers. Contact lists are stored in the user's Exchange Online mailbox if the user is enabled for both products, or on Skype for Business servers if the user is not. Skype for Business database servers are not partitioned per-tenant, but multi-tenancy isolation of data is enforced through RBAC.</span></span>
- <span data-ttu-id="a11e8-p107">Besprechungsinhalte wie Inhalts Benutzer, die während Skype for Business-Besprechungen hochgeladen werden, werden auf verTeilten Datei System Freigaben gespeichert. Dieser Inhalt kann auch in der Exchange Online-Bereitstellung archiviert werden, die für die Archivierung aktiviert ist. Die DFS-Freigaben werden nicht pro Mandant partitioniert, aber der Inhalt wird mit ACLs gesichert, und Mehrmandantenfähigkeit wird über RBAC erzwungen.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p107">Meeting content, such as content users upload during Skype for Business meetings, is stored on Distributed File System shares. This content can also be archived in Exchange Online provided archiving is enabled. The DFS shares are not partitioned per-tenant but the content is secured with ACLs and multi-tenancy is enforced through RBAC.</span></span>
- <span data-ttu-id="a11e8-p108">Anruf Detaildatensätze, die den Aktivitätsverlauf, wie Anrufverlauf, Sofortnachrichtensitzungen, Anwendungsfreigabe, Instant Messaging-Verlauf usw., enthalten, können auch in Exchange Online gespeichert werden, die meisten Anruf Detaildatensätze werden jedoch vorübergehend auf einem KDS-Server (Call Detail Record) gespeichert. Inhalte werden nicht pro Mandant partitioniert, Mehrmandantenfähigkeit wird jedoch über RBAC erzwungen.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p108">Call detail records, which is the activity history, such as call history, IM sessions, application sharing, IM history, etc., can also be stored in Exchange Online, but most call detail records are temporarily stored on call detail record (CDR) servers. Content is not partitioned per tenant, but multi-tenancy is enforced through RBAC.</span></span>

## <a name="sharepoint-online"></a><span data-ttu-id="a11e8-137">SharePoint Online</span><span class="sxs-lookup"><span data-stu-id="a11e8-137">SharePoint Online</span></span>
<span data-ttu-id="a11e8-p109">Es gibt mehrere unabhängige Mechanismen, die für SharePoint Online eindeutig sind und eine Datenisolierung bieten. SharePoint Online speichert Objekte als abstrahierten Code in Anwendungsdatenbanken. Wenn ein Benutzer beispielsweise eine Datei in SharePoint Online hochlädt, wird diese Datei zerlegt und in Anwendungscode übersetzt und in mehreren Tabellen über mehrere Datenbanken gespeichert.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p109">There are several independent mechanisms unique to SharePoint Online that provide data isolation. SharePoint Online stores objects as abstracted code within application databases. For example, when a user uploads a file to SharePoint Online, that file is disassembled and translated into application code and stored in multiple tables across multiple databases.</span></span>

<span data-ttu-id="a11e8-p110">Wenn ein Benutzer direkten Zugriff auf den Speicher erhalten kann, der die Daten enthält, wäre der Inhalt nicht für ein menschliches oder ein anderes System als SharePoint Online zu interpretieren. Zu diesen Mechanismen gehört die Sicherheit Zugriffssteuerung und Eigenschaften. Wie oben beschrieben, werden alle SharePoint Online-Ressourcen durch den Autorisierungscode und die RBAC-Richtlinie gesichert, einschließlich innerhalb eines Mandanten. Die Zugriffssteuerungsliste (Access Control List, ACL), die eine Ressource sichert, enthält eine Identität, die auf Mandantenebene authentifiziert wird. Wie bei Exchange Online sind die Daten für einen bestimmten Mandanten in SharePoint Online auf für den Authentifizierungsanbieter des Mandanten authentifizierte Identitäten beschränkt, die nur Benutzer von diesem Mandanten einbeziehen.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p110">If a user could gain direct access to the storage containing the data, the content would not be interpretable to a human or any system other than SharePoint Online. These mechanisms include security access control and properties. As described above, all SharePoint Online resources are secured by the authorization code and RBAC policy, including within a tenancy. The access control list (ACL) that secures a resource contains an identity that is authenticated at the tenant level. As with Exchange Online, in SharePoint Online, data for a given tenant are limited to identities authenticated against that tenant's authentication provider, which include only users from that tenant.</span></span>

<span data-ttu-id="a11e8-p111">Zusätzlich zu den ACLs wird eine Eigenschaft auf Mandantenebene, die den Authentifizierungsanbieter (der mandantenspezifische Azure Active Directory) angibt, einmal geschrieben und kann nicht mehr geändert werden, nachdem festgelegt. Nachdem die Mandanten Eigenschaft des Authentifizierungsanbieters für einen Mandanten festgelegt wurde, kann Sie nicht mit allen APIs geändert werden, die für einen Mandanten verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p111">In addition to the ACLs, a tenant level property that specifies the authentication provider (which is the tenant-specific Azure Active Directory), is written once and cannot be changed once set. Once the authentication provider tenant property has been set for a tenant, it cannot be changed using any APIs exposed to a tenant.</span></span>

<span data-ttu-id="a11e8-p112">Eine eindeutige *Abonnement* -Nr. wird auch für jeden Mandanten verwendet. Alle Kunden Websites gehören einem Mandanten und werden einem Mandanten \*\* zugewiesen. Die *Subscription* -Eigenschaft auf einer Website wird einmal geschrieben und kann nicht geändert werden. Sobald eine Website einem Mandanten zugewiesen wurde, kann er später nicht mehr mithilfe der Inhaltsspeicher-API zu einem anderen Mandanten verschoben werden. Die *Subskriptions* -Nr. ist auch der Schlüssel, der zum Erstellen des Sicherheitsbereichs für den Authentifizierungsanbieter verwendet wird und an den Mandanten gebunden ist.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p112">A unique *SubscriptionId* is also used for each tenant. All customer sites are owned by a tenant and are assigned a *SubscriptionId* unique to the tenant. The *SubscriptionId* property on a site is written once and cannot be changed. Once a site is assigned to a tenant, it cannot be moved to a different tenant later using the content store API. The *SubscriptionId* is also the key that is used to create the security scope for the authentication provider and is tied to the tenant.</span></span>

<span data-ttu-id="a11e8-p113">SharePoint Online verwendet SQL Server und Azure Storage zum Speichern von Inhalten. Auf SQL-Ebene ist der Partitionsschlüssel für den Inhaltsspeicher *Site*-Nr. Beim Durchführen einer SQL-Abfrage verwendet SharePoint Online eine *Website* -Nr., die im Rahmen einer Überprüfung \*\* auf Mandantenebene überprüft wurde.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p113">SharePoint Online uses SQL Server and Azure storage for the storing of content. At the SQL level, the partition key for the content store is *SiteId*. When running a SQL query, SharePoint Online uses a *SiteId* that has been verified as part of a tenant-level *SubscriptionId* check.</span></span>

<span data-ttu-id="a11e8-p114">SharePoint Online speichert binäre BLOBs (beispielsweise die Dateidaten Ströme) in Microsoft Azure. Jede SharePoint Online-Farm verfügt über ein eigenes Microsoft Azure-Konto, und alle in Azure gespeicherten BLOBs werden einzeln mithilfe eines Schlüssels verschlüsselt, der im SQL-Inhaltsspeicher gespeichert ist. Der Verschlüsselungsschlüssel ist nicht direkt für den Endbenutzer verfügbar und wird in Code von der Autorisierungs Schicht geschützt. Schließlich verfügt SharePoint Online über eine Echtzeitüberwachung, um zu bestimmen, wann eine HTTP-Anforderung Daten für mehrere Mandanten liest oder schreibt. Hierzu verfolgt Sie die *Abonnement* -ID der Anforderungsidentität anhand der *Abonnement* Kennung der Ressource, auf die zugegriffen wird. Eine Anforderung für den Zugriff auf Ressourcen von mehr als einem Mandanten sollte nie von Endbenutzern ausgeführt werden. Es kann jedoch für Serviceanforderungen in einer Umgebung mit mehreren Mandanten auftreten. Beispielsweise zieht der Suchcrawler Inhaltsänderungen für eine gesamte Datenbank auf einmal. Dies umfasst in der Regel das Abfragen von Websites mehrerer Mandanten in einer einzigen Serviceanforderung, was aus Effizienzgründen erfolgt.</span><span class="sxs-lookup"><span data-stu-id="a11e8-p114">SharePoint Online stores file binary blobs (e.g., the file streams) in Microsoft Azure. Each SharePoint Online farm has its own Microsoft Azure account and all the blobs saved in Azure are encrypted individually using a key that is stored in the SQL content store. The encryption key is not exposed directly to the end user, and is protected in code by the authorization layer. Finally, SharePoint Online has real-time monitoring in place to detect when an HTTP request reads or writes data for more than one tenant. It does this by tracking the *SubscriptionId* of the request identity against the *SubscriptionId* of the resource being accessed. A request accessing resources of more than one tenant should never happen by end-user. It can happen for service requests in a multi-tenant environment, though. For example, the search crawler pulls content changes for an entire database all at once. This usually involves querying sites of more than one tenant in a single service request, which is done for efficiency reasons.</span></span>
